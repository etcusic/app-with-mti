<!DOCTYPE html>
<html>
  <head>
    <title>AppWithMti</title>
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>

    <%= stylesheet_link_tag 'application', media: 'all', 'data-turbolinks-track': 'reload' %>
    <%= javascript_pack_tag 'application', 'data-turbolinks-track': 'reload' %>
  </head>

  <body>

    <% if flash.any? %>
      <h3>There Be Some Problems, yo!</h3>
      <div>
        <ul>
          <% flash.each do |type, msg| %>
            <li><%= "#{type}: #{msg}" %></li>
          <% end %>
        </ul>
      </div>
      <h4>Click "Home Page" or refresh the page to move on.</h4>
    <% else %>
      <%= yield %>
    <% end %>

    <%# PUT LINKS AND LOGIC INTO A PARTIAL %>
    
    Practice:
    <button><%= link_to "New User", new_user_path %></button>    
    <button><%= link_to "Home Page", '/' %></button>
    <button><%= link_to "Log In", '/login' %></button>
    <% if session[:user_id] %>
      <button><%= link_to "Profile", user_path(current_user) %></button>
      <button><%= link_to "Log Out", '/logout', method: 'post' %></button>
      <button><%= link_to "Edit Profile", edit_user_path(current_user) %></button>
      <% if current_user.is_student? %>
        <button><%= link_to "Create Appointment!", "/users/#{current_user.id}/appointments/new", method: 'get' %></button>
      <% end %>
    <% end %>

  </body>
</html>
